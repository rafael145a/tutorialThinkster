<html lang="en" >
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="/javascripts/angular/angular.min.js"></script>
  <script src="/javascripts/angularApp.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
  <!-- Angular Material style sheet -->
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<style>
  md-list-item.md-2-line{
    height: 0;
  }


</style>
<body ng-app="flapperNews" ng-cloak>
  <!--
    Your HTML content here
  -->

      <ui-view></ui-view>



  <!--HOME-->
  <script type="text/ng-template" id="/home.html">
    <div layout="column" flex-offset-lg="20" flex-offset-xl="20" flex-offset-md="5" flex-offset-sm="0" flex-md="90" flex-gt-md="60" flex>
      <div layout="column" style="height: 600px; ">
        <md-toolbar md-scroll-shrink ng-if="true">
          <div class="md-toolbar-tools">
            <h3>
              <span>Home</span>
            </h3>
          </div>
        </md-toolbar>
          <div layout="row">
              <md-content flex>
                <md-list>
                    <md-list-item class="md-2-line" ng-repeat="post in posts | orderBy: '-upvotes'">
                        <div class="md-list-item-text">
                          <h3 ng-show="post.link">
                            <a href="{{post.link}}" target="_blank">
                              {{post.title}}
                            </a>
                          </h3>
                          <h3 ng-hide="post.link">{{post.title}}</h3>
                          <p>Avaliações: {{post.upvotes}}   <a href="#/posts/{{post._id}}">Comentários</a></p>
                        </div>
                        <md-icon class="md-secondary" md-font-set="material-icons" ng-click="incrementaAvaliacao(post)" aria-label="add" style="color: #FF4081">&#xE145;</md-icon>
                        <md-divider></md-divider>
                    </md-list-item>
                </md-list>
              </md-content>
            </div>
      </div>
        <form ng-submit="addPost()" id="frmPost">
          <md-input-container class="md-block" flex-gt-sm>
              <label>Post</label>
              <input ng-model="title">
          </md-input-container>
          <md-input-container class="md-block" flex-gt-sm>
              <label>Link</label>
              <input ng-model="link">
          </md-input-container>
          <md-button class="md-raised" type="submit">
                Adicionar
          </md-button>
        </form>

      </div>
    </div>
  </script>
  <!--FIM HOME-->

  <!--POST-->
  <script type="text/ng-template" id="/posts.html">
    <div layout="column" flex-offset-lg="20" flex-offset-xl="20" flex-offset-md="5" flex-offset-sm="0" flex-md="90" flex-gt-md="60" flex>
      <div layout="column" style="height: 600px; ">
        <md-toolbar md-scroll-shrink ng-if="true">
          <div class="md-toolbar-tools">
            <md-button aria-label="Voltar" ng-href="#">
              Voltar
            </md-button>
            <h2>
              <span ng-show="post.link"><a href="{{post.link}}" target="_blank">Post: {{post.title}}</a></span>
              <span ng-hide="post.link">{{post.title}}</span>
            </h2>
          </div>
        </md-toolbar>
          <div layout="row">
              <md-content flex>
                      <md-list>
                        <md-list-item class="md-2-line" ng-repeat="comment in post.comments | orderBy: '-upvotes'">
                            <div class="md-list-item-text">
                              <h3>{{comment.body}}</h3>
                              <p>Avaliações: {{comment.upvotes}}</p>
                            </div>
                            <md-icon class="md-secondary" md-font-set="material-icons" ng-click="incrementaAvaliacaoComentario(comment)" aria-label="thumps_up" style="color: #FF4081">&#xE8DC;</md-icon>
                            <md-divider></md-divider>
                        </md-list-item>
                      </md-list>
              </md-content>
            </div>
      </div>
        <form ng-submit="addComment()" id="frmCommentS">
          <md-input-container class="md-block" flex-gt-sm>
              <label>Comentário</label>
              <input ng-model="body">
          </md-input-container>
          <md-button class="md-raised" type="submit">
                Adicionar
          </md-button>
        </form>

      </div>
    </div>
  </script>
  <!--FIM POST-->
  <!-- Angular Material requires Angular.js Libraries -->
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>

<!-- Angular Material Library -->
<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
</body>
</html>
